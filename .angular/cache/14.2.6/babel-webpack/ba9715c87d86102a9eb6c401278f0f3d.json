{"ast":null,"code":"import { catchError, map, of, startWith } from 'rxjs';\nimport { DataState } from './enum/data-state.enum';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./service/server.service\";\nimport * as i2 from \"@angular/common\";\nexport class AppComponent {\n  constructor(serverSerivice) {\n    this.serverSerivice = serverSerivice;\n  }\n\n  ngOnInit() {\n    this.appState$ = this.serverSerivice.servers$.pipe(map(response => {\n      return {\n        dataState: DataState.LOADED_STATE,\n        appData: response\n      };\n    }), startWith({\n      dataState: DataState.LOADING_STATE\n    }), catchError(error => {\n      return of({\n        dataState: DataState.ERROR_STATE,\n        error: error\n      });\n    }));\n  }\n\n}\n\nAppComponent.ɵfac = function AppComponent_Factory(t) {\n  return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.ServerService));\n};\n\nAppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppComponent,\n  selectors: [[\"app-root\"]],\n  decls: 4,\n  vars: 5,\n  template: function AppComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\");\n      i0.ɵɵtext(1);\n      i0.ɵɵpipe(2, \"json\");\n      i0.ɵɵpipe(3, \"async\");\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 1, i0.ɵɵpipeBind1(3, 3, ctx.appState$)));\n    }\n  },\n  dependencies: [i2.AsyncPipe, i2.JsonPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhcHAuY29tcG9uZW50LmNzcyJ9 */\"]\n});","map":{"version":3,"mappings":"AACA,SAASA,UAAT,EAAqBC,GAArB,EAAsCC,EAAtC,EAA0CC,SAA1C,QAA2D,MAA3D;AACA,SAASC,SAAT,QAA0B,wBAA1B;;;;AAUA,OAAM,MAAOC,YAAP,CAAmB;EAEvBC,YAAoBC,cAApB,EAAiD;IAA7B;EAAkC;;EAEtDC,QAAQ;IACN,KAAKC,SAAL,GAAiB,KAAKF,cAAL,CAAoBG,QAApB,CACdC,IADc,CAEbV,GAAG,CAACW,QAAQ,IAAG;MACb,OAAO;QAAEC,SAAS,EAAET,SAAS,CAACU,YAAvB;QAAqCC,OAAO,EAAEH;MAA9C,CAAP;IACD,CAFE,CAFU,EAKbT,SAAS,CAAC;MAAEU,SAAS,EAAET,SAAS,CAACY;IAAvB,CAAD,CALI,EAMbhB,UAAU,CAAEiB,KAAD,IAAkB;MAC3B,OAAOf,EAAE,CAAC;QAAEW,SAAS,EAAET,SAAS,CAACc,WAAvB;QAAoCD,KAAK,EAAEA;MAA3C,CAAD,CAAT;IACD,CAFS,CANG,CAAjB;EAUD;;AAfsB;;;mBAAZZ,cAAYc;AAAA;;;QAAZd;EAAYe;EAAAC;EAAAC;EAAAC;IAAA;MCZzBJ;MAAKA;;;MAA8BA;;;;MAA9BA;MAAAA","names":["catchError","map","of","startWith","DataState","AppComponent","constructor","serverSerivice","ngOnInit","appState$","servers$","pipe","response","dataState","LOADED_STATE","appData","LOADING_STATE","error","ERROR_STATE","i0","selectors","decls","vars","template"],"sourceRoot":"","sources":["C:\\Users\\Catalin Cebuc\\Downloads\\serverapp\\src\\app\\app.component.ts","C:\\Users\\Catalin Cebuc\\Downloads\\serverapp\\src\\app\\app.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { catchError, map, Observable, of, startWith } from 'rxjs';\nimport { DataState } from './enum/data-state.enum';\nimport { AppState } from './interface/app-state';\nimport { CustomResponse } from './interface/custom-response';\nimport { ServerService } from './service/server.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n  appState$: Observable<AppState<CustomResponse>>;\n  constructor(private serverSerivice: ServerService) { }\n\n  ngOnInit(): void {\n    this.appState$ = this.serverSerivice.servers$\n      .pipe(\n        map(response => {\n          return { dataState: DataState.LOADED_STATE, appData: response }\n        }),\n        startWith({ dataState: DataState.LOADING_STATE }),\n        catchError((error: string) => {\n          return of({ dataState: DataState.ERROR_STATE, error: error })\n        })\n      );\n  }\n}\n","<div>{{ appState$ | async | json }}</div>"]},"metadata":{},"sourceType":"module"}